(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["place"],{3380:function(e,t,a){},"699c":function(e,t,a){},"8cfd":function(e,t,a){"use strict";a.r(t);var o,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"placeAdd"},[a("div",{staticClass:"head"},[a("div",{staticClass:"icon"}),a("div",{staticClass:"center"},[a("div",{staticClass:"name"},[e._v(e._s(e.info.name))]),a("div",{staticClass:"memo"},[e._v(" "+e._s(e.info.memo)+" ")]),a("div",{staticClass:"cost"},[""!=e.info.amount?a("span",{staticClass:"over"},[e._v("￥"+e._s(e.info.amount))]):e._e()])])]),a("div",{staticClass:"info"},[a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[e._v("体检人员")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.info.userName,expression:"info.userName"}],staticClass:"input",attrs:{type:"text",placeholder:"请选择体检人员",maxlength:"20",readonly:""},domProps:{value:e.info.userName},on:{click:e.showPersonSelector,input:function(t){t.target.composing||e.$set(e.info,"userName",t.target.value)}}}),a("div",{staticClass:"arrow"},[a("van-icon",{attrs:{name:"arrow"},on:{click:e.showPersonSelector}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"title"},[e._v("预约时间")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.info.date,expression:"info.date"}],staticClass:"input",attrs:{type:"text",placeholder:"请选择预约时间",maxlength:"20",readonly:""},domProps:{value:e.info.date},on:{click:e.showDateSelector,input:function(t){t.target.composing||e.$set(e.info,"date",t.target.value)}}}),a("div",{staticClass:"arrow"},[a("van-icon",{attrs:{name:"arrow"},on:{click:e.showDateSelector}})],1)])]),a("div",{staticClass:"bottom"},[a("van-button",{staticClass:"submit",attrs:{type:"info"},on:{click:e.submit}},[e._v("预约")])],1),a("van-calendar",{on:{confirm:e.setDate},model:{value:e.showDate,callback:function(t){e.showDate=t},expression:"showDate"}}),a("PersonSelecor",{ref:"person",on:{select:e.selectPerson}})],1)},n=[],i=(a("e7e5"),a("d399")),c=a("ade3"),r=(a("6d73"),a("473d")),l=(a("b0c0"),a("a31f")),u={name:"placeAdd",data:function(){return{info:{userID:"",userName:"",date:"",amount:"",name:"",memo:""},showDate:!1,code:"",item:{}}},components:(o={},Object(c["a"])(o,r["a"].name,r["a"]),Object(c["a"])(o,"PersonSelecor",l["a"]),o),mounted:function(){this.$route.params.info&&(this.code=this.$route.params.info.code,this.info.name=this.$route.params.info.name,this.info.code=this.$route.params.info.amount,this.info.memo=this.$route.params.info.memo)},methods:{showDateSelector:function(){this.showDate=!0},setDate:function(e){var t=this;t.showDate=!1,t.info.date=e.format("yyyy-MM-dd")},showPersonSelector:function(){this.$refs.person.show()},selectPerson:function(e){var t=this;t.info.userID=e.value,t.info.userName=e.name},submit:function(){var e=this;return console.log(e.info.date+" "+(new Date).format("hh:mm:ss")),e.info.userName?e.info.date?void e.$api.PlaceView.checkUpOrder({id:e.info.userID,setCode:e.code,appointsDate:e.info.date+" "+(new Date).format("hh:mm:ss")}).then((function(t){200==t.code&&Object(i["a"])({message:"添加成功",onClose:function(){e.$router.push({name:"my"})}})})):i["a"].fail("请选择就诊时间"):i["a"].fail("请选择就诊人")}},computed:{},watch:{}},m=u,f=(a("e953"),a("2877")),d=Object(f["a"])(m,s,n,!1,null,"7811320e",null);t["default"]=d.exports},a31f:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-action-sheet",{attrs:{"action-sheet-item-font-size":"35px",actions:e.datas,"close-on-click-action":""},on:{select:e.onSelect},model:{value:e.showSelector,callback:function(t){e.showSelector=t},expression:"showSelector"}},[e._t("cancel",(function(){return[[a("div",{staticClass:"cancleBox"},[a("van-button",{staticClass:"cancle",attrs:{type:"info"},on:{click:function(t){t.stopPropagation(),e.showSelector=!1}}},[e._v("取消")])],1)]]}))],2)},s=[],n=a("ade3"),i=(a("2cbd"),a("ab2c")),c=a("5530"),r=(a("b0c0"),a("99af"),a("d3b7"),a("159b"),a("2f62")),l={data:function(){return{showSelector:!1,datas:[]}},computed:Object(c["a"])({},Object(r["c"])(["userInfo"])),components:Object(n["a"])({},i["a"].name,i["a"]),methods:{show:function(){this.showSelector=!0,this.queryList()},init:function(){},queryList:function(){var e=this;e.$api.PersonView.selectBindPerson().then((function(t){200==t.code&&(e.datas=[{name:"".concat(e.userInfo.USER_NAME,"  ").concat(e.userInfo.ID_NO),className:"personItem",value:e.userInfo.ID,relation:"本人",tel:e.userInfo.PHONE_NO}],t.data.forEach((function(t){e.datas.push({name:"".concat(t.USER_NAME,"  ").concat(t.ID_NO),className:"personItem",value:t.ID,relation:t.RELATION_SHIP,tel:t.PHONE_NO})})))}))},onSelect:function(e){var t=this;t.$emit("select",e)}}},u=l,m=(a("aabc"),a("2877")),f=Object(m["a"])(u,o,s,!1,null,"3439372b",null);t["a"]=f.exports},aabc:function(e,t,a){"use strict";a("3380")},e953:function(e,t,a){"use strict";a("699c")}}]);