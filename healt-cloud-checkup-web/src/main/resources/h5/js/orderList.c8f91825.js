(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderList"],{"09d3":function(e,t,n){"use strict";n("68ef"),n("aec8")},1148:function(e,t,n){"use strict";var o=n("da84"),i=n("5926"),r=n("577e"),_=n("1d80"),s=o.RangeError;e.exports=function(e){var t=r(_(this)),n="",o=i(e);if(o<0||o==1/0)throw s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"1a04":function(e,t,n){},"2d6d":function(e,t,n){"use strict";var o=n("d282"),i=n("a142"),r=n("a8c1"),_=n("9884"),s=n("1325"),a=function(e){return{props:{closeOnClickOutside:{type:Boolean,default:!0}},data:function(){var t=this,n=function(n){t.closeOnClickOutside&&!t.$el.contains(n.target)&&t[e.method]()};return{clickOutsideHandler:n}},mounted:function(){Object(s["b"])(document,e.event,this.clickOutsideHandler)},beforeDestroy:function(){Object(s["a"])(document,e.event,this.clickOutsideHandler)}}},c=Object(o["a"])("dropdown-menu"),u=c[0],l=c[1];t["a"]=u({mixins:[Object(_["b"])("vanDropdownMenu"),a({event:"click",method:"onClickOutside"})],props:{zIndex:[Number,String],activeColor:String,overlay:{type:Boolean,default:!0},duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},computed:{scroller:function(){return Object(r["b"])(this.$el)},opened:function(){return this.children.some((function(e){return e.showWrapper}))},barStyle:function(){if(this.opened&&Object(i["c"])(this.zIndex))return{zIndex:1+this.zIndex}}},methods:{updateOffset:function(){if(this.$refs.bar){var e=this.$refs.bar.getBoundingClientRect();"down"===this.direction?this.offset=e.bottom:this.offset=window.innerHeight-e.top}},toggleItem:function(e){this.children.forEach((function(t,n){n===e?t.toggle():t.showPopup&&t.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(e){e.toggle(!1)}))}},render:function(){var e=this,t=arguments[0],n=this.children.map((function(n,o){return t("div",{attrs:{role:"button",tabindex:n.disabled?-1:0},class:l("item",{disabled:n.disabled}),on:{click:function(){n.disabled||e.toggleItem(o)}}},[t("span",{class:[l("title",{active:n.showPopup,down:n.showPopup===("down"===e.direction)}),n.titleClass],style:{color:n.showPopup?e.activeColor:""}},[t("div",{class:"van-ellipsis"},[n.slots("title")||n.displayTitle])])])}));return t("div",{class:l()},[t("div",{ref:"bar",style:this.barStyle,class:l("bar",{opened:this.opened})},[n]),this.slots("default")])}})},"408a":function(e,t,n){var o=n("e330");e.exports=o(1..valueOf)},"597c":function(e,t,n){},"61ae":function(e,t,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("1a04"),n("4d75"),n("b2cc")},7794:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"OrderList"},[n("div",{staticClass:"menu"},[n("van-dropdown-menu",[n("van-dropdown-item",{attrs:{options:e.options},model:{value:e.tabId,callback:function(t){e.tabId=t},expression:"tabId"}}),n("van-dropdown-item",{attrs:{options:e.persons},on:{change:e.changePerson},model:{value:e.personId,callback:function(t){e.personId=t},expression:"personId"}})],1)],1),n("div",{staticClass:"content"},e._l(e.datas,(function(t,o){return n("div",{key:o,staticClass:"item",on:{click:function(n){return e.toInfo(t)}}},[n("div",{staticClass:"iconBox",class:{personal:"0000"==t.unitID,group:"0000"!=t.unitID}},[e._v(e._s("0000"==t.unitID?"个":"团"))]),n("div",{staticClass:"state",class:{dzf:0==t.status,dtj:1==t.status,ytj:2==t.status,ytf:3==t.status}},[e._v(" "+e._s(t.statusName)+" ")]),n("div",{staticClass:"date"},[e._v(e._s(t.date))]),n("div",{staticClass:"name"},[e._v(e._s(t.title))]),n("div",{staticClass:"arrow"},[n("van-icon",{staticClass:"icon",attrs:{name:"arrow"}})],1)])})),0)])},i=[],r=n("e9b2"),_=r["a"],s=(n("8f47"),n("2877")),a=Object(s["a"])(_,o,i,!1,null,"4ab8315a",null);t["default"]=a.exports},"8f47":function(e,t,n){"use strict";n("597c")},9884:function(e,t,n){"use strict";function o(e){var t=[];function n(e){e.forEach((function(e){t.push(e),e.componentInstance&&n(e.componentInstance.$children.map((function(e){return e.$vnode}))),e.children&&n(e.children)}))}return n(e),t}function i(e,t){var n=t.$vnode.componentOptions;if(n&&n.children){var i=o(n.children);e.sort((function(e,t){return i.indexOf(e.$vnode)-i.indexOf(t.$vnode)}))}}function r(e,t){var n,o;void 0===t&&(t={});var r=t.indexKey||"index";return{inject:(n={},n[e]={default:null},n),computed:(o={parent:function(){return this.disableBindRelation?null:this[e]}},o[r]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},o),watch:{disableBindRelation:function(e){e||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]);i(e,this.parent),this.parent.children=e}}}}}function _(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return _}))},a15b:function(e,t,n){"use strict";var o=n("23e7"),i=n("e330"),r=n("44ad"),_=n("fc6a"),s=n("a640"),a=i([].join),c=r!=Object,u=s("join",",");o({target:"Array",proto:!0,forced:c||!u},{join:function(e){return a(_(this),void 0===e?",":e)}})},aec8:function(e,t,n){},b2cc:function(e,t,n){},b680:function(e,t,n){"use strict";var o=n("23e7"),i=n("da84"),r=n("e330"),_=n("5926"),s=n("408a"),a=n("1148"),c=n("d039"),u=i.RangeError,l=i.String,d=Math.floor,f=r(a),p=r("".slice),h=r(1..toFixed),b=function(e,t,n){return 0===t?n:t%2===1?b(e,t-1,n*e):b(e*e,t/2,n)},v=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},m=function(e,t,n){var o=-1,i=n;while(++o<6)i+=t*e[o],e[o]=i%1e7,i=d(i/1e7)},O=function(e,t){var n=6,o=0;while(--n>=0)o+=e[n],e[n]=d(o/t),o=o%t*1e7},E=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var o=l(e[t]);n=""===n?o:n+f("0",7-o.length)+o}return n},P=c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}));o({target:"Number",proto:!0,forced:P},{toFixed:function(e){var t,n,o,i,r=s(this),a=_(e),c=[0,0,0,0,0,0],d="",h="0";if(a<0||a>20)throw u("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return l(r);if(r<0&&(d="-",r=-r),r>1e-21)if(t=v(r*b(2,69,1))-69,n=t<0?r*b(2,-t,1):r/b(2,t,1),n*=4503599627370496,t=52-t,t>0){m(c,0,n),o=a;while(o>=7)m(c,1e7,0),o-=7;m(c,b(10,o,1),0),o=t-1;while(o>=23)O(c,1<<23),o-=23;O(c,1<<o),m(c,1,1),O(c,2),h=E(c)}else m(c,0,n),m(c,1<<-t,0),h=E(c)+f("0",a);return a>0?(i=h.length,h=d+(i<=a?"0."+f("0",a-i)+h:p(h,0,i-a)+"."+p(h,i-a))):h=d+h,h}})},d314:function(e,t,n){"use strict";var o=n("d282"),i=n("1325"),r=n("1421"),_=n("9884"),s=n("c31d"),a=n("2638"),c=n.n(a),u=n("a142"),l=n("ba31"),d=n("48f4"),f={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0},clickable:{type:Boolean,default:null}},p=n("ad06"),h=Object(o["a"])("cell"),b=h[0],v=h[1];function m(e,t,n,o){var i,r=t.icon,_=t.size,s=t.title,a=t.label,f=t.value,h=t.isLink,b=n.title||Object(u["c"])(s);function m(){var o=n.label||Object(u["c"])(a);if(o)return e("div",{class:[v("label"),t.labelClass]},[n.label?n.label():a])}function O(){if(b)return e("div",{class:[v("title"),t.titleClass],style:t.titleStyle},[n.title?n.title():e("span",[s]),m()])}function E(){var o=n.default||Object(u["c"])(f);if(o)return e("div",{class:[v("value",{alone:!b}),t.valueClass]},[n.default?n.default():e("span",[f])])}function P(){return n.icon?n.icon():r?e(p["a"],{class:v("left-icon"),attrs:{name:r,classPrefix:t.iconPrefix}}):void 0}function D(){var o=n["right-icon"];if(o)return o();if(h){var i=t.arrowDirection;return e(p["a"],{class:v("right-icon"),attrs:{name:i?"arrow-"+i:"arrow"}})}}function w(e){Object(l["a"])(o,"click",e),Object(d["a"])(o)}var I=null!=(i=t.clickable)?i:h,j={clickable:I,center:t.center,required:t.required,borderless:!t.border};return _&&(j[_]=_),e("div",c()([{class:v(j),attrs:{role:I?"button":null,tabindex:I?0:null},on:{click:w}},Object(l["b"])(o)]),[P(),O(),E(),D(),null==n.extra?void 0:n.extra()])}m.props=Object(s["a"])({},f,d["c"]);var O=b(m),E=n("e41f"),P=Object(o["a"])("dropdown-item"),D=P[0],w=P[1];t["a"]=D({mixins:[Object(r["a"])({ref:"wrapper"}),Object(_["a"])("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}},lazyRender:{type:Boolean,default:!0}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var e=this;if(this.title)return this.title;var t=this.options.filter((function(t){return t.value===e.value}));return t.length?t[0].text:""}},watch:{showPopup:function(e){this.bindScroll(e)}},beforeCreate:function(){var e=this,t=function(t){return function(){return e.$emit(t)}};this.onOpen=t("open"),this.onClose=t("close"),this.onOpened=t("opened")},methods:{toggle:function(e,t){void 0===e&&(e=!this.showPopup),void 0===t&&(t={}),e!==this.showPopup&&(this.transition=!t.immediate,this.showPopup=e,e&&(this.parent.updateOffset(),this.showWrapper=!0))},bindScroll:function(e){var t=this.parent.scroller,n=e?i["b"]:i["a"];n(t,"scroll",this.onScroll,!0)},onScroll:function(){this.parent.updateOffset()},onClickWrapper:function(e){this.getContainer&&e.stopPropagation()}},render:function(){var e=this,t=arguments[0],n=this.parent,o=n.zIndex,i=n.offset,r=n.overlay,_=n.duration,s=n.direction,a=n.activeColor,c=n.closeOnClickOverlay,u=this.options.map((function(n){var o=n.value===e.value;return t(O,{attrs:{clickable:!0,icon:n.icon,title:n.text},key:n.value,class:w("option",{active:o}),style:{color:o?a:""},on:{click:function(){e.showPopup=!1,n.value!==e.value&&(e.$emit("input",n.value),e.$emit("change",n.value))}}},[o&&t(p["a"],{class:w("icon"),attrs:{color:a,name:"success"}})])})),l={zIndex:o};return"down"===s?l.top=i+"px":l.bottom=i+"px",t("div",[t("div",{directives:[{name:"show",value:this.showWrapper}],ref:"wrapper",style:l,class:w([s]),on:{click:this.onClickWrapper}},[t(E["a"],{attrs:{overlay:r,position:"down"===s?"top":"bottom",duration:this.transition?_:0,lazyRender:this.lazyRender,overlayStyle:{position:"absolute"},closeOnClickOverlay:c},class:w("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){e.showWrapper=!1,e.$emit("closed")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t}}},[u,this.slots("default")])])])}})},d81d:function(e,t,n){"use strict";var o=n("23e7"),i=n("b727").map,r=n("1dde"),_=r("map");o({target:"Array",proto:!0,forced:!_},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},e41f:function(e,t,n){"use strict";var o=n("d282"),i=n("a142"),r=n("6605"),_=n("ad06"),s=Object(o["a"])("popup"),a=s[0],c=s[1];t["a"]=a({mixins:[Object(r["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var e=this,t=function(t){return function(n){return e.$emit(t,n)}};this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},methods:{onClickCloseIcon:function(e){this.$emit("click-close-icon",e),this.close()}},render:function(){var e,t=arguments[0];if(this.shouldRender){var n=this.round,o=this.position,r=this.duration,s="center"===o,a=this.transition||(s?"van-fade":"van-popup-slide-"+o),u={};if(Object(i["c"])(r)){var l=s?"animationDuration":"transitionDuration";u[l]=r+"s"}return t("transition",{attrs:{appear:this.transitionAppear,name:a},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:u,class:c((e={round:n},e[o]=o,e["safe-area-inset-bottom"]=this.safeAreaInsetBottom,e)),on:{click:this.onClick}},[this.slots(),this.closeable&&t(_["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:c("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})},e9b2:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_Work_bbzq_dc_h5_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),D_Work_bbzq_dc_h5_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ade3"),vant_es_dropdown_item_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("61ae"),vant_es_dropdown_item__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d314"),vant_es_dropdown_menu_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("09d3"),vant_es_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2d6d"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_12__),vuex__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("2f62"),_components;__webpack_exports__["a"]={name:"OrderList",data:function(){return{options:[{value:-1,text:"全部"},{value:0,text:"待支付"},{value:1,text:"待体检"},{value:2,text:"已体检"},{value:3,text:"已退费"}],persons:[],personId:"",tabId:-1,dataList:[]}},components:(_components={},Object(D_Work_bbzq_dc_h5_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__["a"])(_components,vant_es_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__["a"].name,vant_es_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__["a"]),Object(D_Work_bbzq_dc_h5_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__["a"])(_components,vant_es_dropdown_item__WEBPACK_IMPORTED_MODULE_3__["a"].name,vant_es_dropdown_item__WEBPACK_IMPORTED_MODULE_3__["a"]),_components),mounted:function(){this.init()},methods:{init:function(){var e=this;e.queryPersons()},queryOrder:function(){var e=this;e.$api.OrderView.webPersonOrdersList({bindId:e.personId}).then((function(t){200==t.code&&e.setList(t.data)}))},queryPersons:function(){var e=this;e.$api.PersonView.selectBindPerson().then((function(t){200==t.code&&(e.persons=[{value:e.userInfo.ID,text:e.userInfo.USER_NAME}],t.data.forEach((function(t){e.persons.push({value:t.ID,text:t.USER_NAME})})),e.personId=e.persons[0].value,e.queryOrder())}))},setList:function(e){var t=this;for(var n in t.dataList=[],e){var o=e[n];if(o&&o.length>0){var i=o.map((function(e){return e.ITEM_PACK_NAME})).join("，"),r=o[0].APPOINTS_DATE&&o[0].APPOINTS_DATE.length>10?o[0].APPOINTS_DATE.substr(0,10):"",_=t.sum(o.map((function(e){return"number"==typeof e.CHARGES?e.CHARGES:0}))),s=t.sum(o.map((function(e){return"number"==typeof e.CHARGES?e.CHARGES:0}))),a=o[0].NAME,c=o[0].UNIT_NAME,u=o[0].ID_NO,l=t.getStatus(o[0].RESULT_STATUS,o[0].BILL_INDICATOR);t.dataList.push({title:i,date:r,dateLang:o[0].APPOINTS_DATE,charges:_.toFixed(2),cost:s.toFixed(2),userName:a,unitNAME:c,idNo:u,statusName:l.txt,status:l.code,unitID:o[0].UnitID,list:o.map((function(e){return e.ITEM_PACK_NAME}))})}}},getStatus:function(e,t){return 0==t?{code:0,txt:"待支付"}:0==e&&1==t?{code:1,txt:"待体检"}:0!=e&&1==t?{code:2,txt:"已体检"}:2==t?{code:3,txt:"已退费"}:{code:-1,txt:""}},toInfo:function(e){var t=this;t.$router.push({name:"orderInfo",params:e})},sum:function sum(arr){return eval(arr.join("+"))},changeTab:function(e){var t=this;t.tabId=e},changePerson:function(e){var t=this;t.queryOrder()}},computed:Object(D_Work_bbzq_dc_h5_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(D_Work_bbzq_dc_h5_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_13__["c"])(["userInfo"])),{},{datas:function(){var e=this;return-1!=e.tabId?e.dataList.filter((function(t){return t.status==e.tabId})):e.dataList}}),watch:{}}}}]);