(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"1c0e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t._m(0),n("div",{staticClass:"content"},[n("div",{staticClass:"row"},[n("van-icon",{staticClass:"input-icon",attrs:{name:"manager"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.userName,expression:"info.userName"}],staticClass:"input",attrs:{type:"text",placeholder:"姓名",maxlength:"20"},domProps:{value:t.info.userName},on:{input:function(e){e.target.composing||t.$set(t.info,"userName",e.target.value)}}})],1),n("div",{staticClass:"row"},[n("van-icon",{staticClass:"input-icon",attrs:{name:"card"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.idNo,expression:"info.idNo"}],staticClass:"input",attrs:{type:"text",placeholder:"身份证号",maxlength:"20"},domProps:{value:t.info.idNo},on:{input:function(e){e.target.composing||t.$set(t.info,"idNo",e.target.value)}}})],1),n("div",{staticClass:"row"},[n("van-icon",{staticClass:"input-icon",attrs:{name:"phone"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.phoneNo,expression:"info.phoneNo"}],staticClass:"input",attrs:{type:"text",placeholder:"手机号",maxlength:"20"},domProps:{value:t.info.phoneNo},on:{input:function(e){e.target.composing||t.$set(t.info,"phoneNo",e.target.value)}}})],1),n("div",{staticClass:"row"},[n("van-icon",{staticClass:"input-icon",attrs:{name:"chat"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.code,expression:"info.code"}],staticClass:"input_msg",attrs:{type:"text",placeholder:"验证码",maxlength:"20"},domProps:{value:t.info.code},on:{input:function(e){e.target.composing||t.$set(t.info,"code",e.target.value)}}}),n("div",{staticClass:"msgbox"},[n("msgCode",{ref:"msg",on:{send:t.sendSMS}})],1)],1),n("van-button",{staticClass:"submit_button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("注册")])],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("div",{staticClass:"bg"})])}],a=(n("e7e5"),n("d399")),s=n("5530"),c=(n("ac1f"),n("00b4"),n("991b")),r=n("2f62"),u={name:"loginView",data:function(){return{info:{idNo:"",phoneNo:"",code:"",userName:""}}},components:{msgCode:c["a"]},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["setToken"])),{},{onSubmit:function(){var t=this;return""==t.info.userName?a["a"].fail("请填写正确姓名"):t.info.idNo&&/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(t.info.idNo)?t.info.phoneNo&&/^[1][3-9][0-9]{9}$/.test(t.info.phoneNo)?""==t.info.code||6!=t.info.code.length?a["a"].fail("请填写6位数字验证码"):void t.$api.LoginView.regeist(t.info).then((function(e){200==e.code&&(t.setToken(e.data),t.$router.push({name:"my"}))})):a["a"].fail("请填写正确的手机号码"):a["a"].fail("请填写正确的身份证号")},sendSMS:function(){var t=this;if(!this.info.phoneNo||!/^[1][3-9][0-9]{9}$/.test(this.info.phoneNo))return a["a"].fail("手机号码不正确");this.$api.LoginView.sendSMS({mobile:this.info.phoneNo}).then((function(e){200==e.code&&t.$refs.msg.start()}))}}),computed:{},watch:{}},l=u,d=(n("60ba"),n("2877")),m=Object(d["a"])(l,o,i,!1,null,"3dd0d209",null);e["default"]=m.exports},"3a93":function(t,e,n){},4012:function(t,e,n){"use strict";n("a3e7")},"60ba":function(t,e,n){"use strict";n("3a93")},"991b":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",{staticClass:"msg-button",attrs:{type:"primary",disabled:t.isSend},on:{click:t.sendMsg}},[t._v(t._s(t.text))])},i=[],a={data:function(){return{text:"发送验证码",counter:0,timer:null,isSend:!1}},components:{},methods:{sendMsg:function(){var t=this;t.isSend||t.$emit("send",!0)},start:function(){var t=this;t.counter=60,t.countDown(),t.isSend=!0},countDown:function(){var t=this,e=this;e.timer=setInterval((function(){e.text="".concat(e.counter,"秒后重新发送"),e.counter--,console.log(e.counter),e.counter<0&&(e.text="重新发送",e.isSend=!1,clearInterval(t.timer))}),1e3)}}},s=a,c=(n("4012"),n("2877")),r=Object(c["a"])(s,o,i,!1,null,"f7177bac",null);e["a"]=r.exports},a3e7:function(t,e,n){}}]);